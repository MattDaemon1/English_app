import Database from 'better-sqlite3';

// Ouvrir la base de donnÃ©es
const db = new Database('english-app.db');

console.log('ðŸ” Traduction massive - Lot 4 (derniers mots)...\n');

// Traductions pour les mots restants
const translations_batch4 = {
    'british': 'britannique',
    'buck': 'mÃ¢le',
    'bunch': 'groupe',
    'cabin': 'cabine',
    'canadian': 'canadien',
    'carrier': 'transporteur',
    'ceo': 'PDG',
    'changing': 'changeant',
    'chef': 'chef cuisinier',
    'chinese': 'chinois',
    'cholesterol': 'cholestÃ©rol',
    'clinical': 'clinique',
    'cluster': 'groupe',
    'coalition': 'coalition',
    'cognitive': 'cognitif',
    'collective': 'collectif',
    'colonial': 'colonial',
    'commander': 'commandant',
    'composition': 'composition',
    'comprehensive': 'complet',
    'concentrate': 'se concentrer',
    'concentration': 'concentration',
    'conception': 'conception',
    'conclude': 'conclure',
    'conclusion': 'conclusion',
    'concrete': 'bÃ©ton',
    'conference': 'confÃ©rence',
    'configure': 'configurer',
    'confirmation': 'confirmation',
    'confirm': 'confirmer',
    'conflict': 'conflit',
    'confront': 'confronter',
    'confusion': 'confusion',
    'congress': 'congrÃ¨s',
    'congressional': 'du congrÃ¨s',
    'connect': 'connecter',
    'connection': 'connexion',
    'consciousness': 'conscience',
    'consensus': 'consensus',
    'consent': 'consentement',
    'consequence': 'consÃ©quence',
    'consequently': 'par consÃ©quent',
    'conservation': 'conservation',
    'conservative': 'conservateur',
    'conserve': 'conserver',
    'consider': 'considÃ©rer',
    'considerable': 'considÃ©rable',
    'considerably': 'considÃ©rablement',
    'consideration': 'considÃ©ration',
    'consist': 'consister',
    'consistent': 'cohÃ©rent',
    'consistently': 'de maniÃ¨re cohÃ©rente',
    'conspiracy': 'conspiration',
    'constant': 'constant',
    'constantly': 'constamment',
    'constitute': 'constituer',
    'constitution': 'constitution',
    'constitutional': 'constitutionnel',
    'constraint': 'contrainte',
    'construct': 'construire',
    'construction': 'construction',
    'consultation': 'consultation',
    'consume': 'consommer',
    'consumer': 'consommateur',
    'consumption': 'consommation',
    'contact': 'contact',
    'contain': 'contenir',
    'container': 'conteneur',
    'contemporary': 'contemporain',
    'content': 'contenu',
    'contest': 'concours',
    'context': 'contexte',
    'continent': 'continent',
    'continue': 'continuer',
    'continued': 'continuÃ©',
    'continuing': 'continu',
    'continuous': 'continu',
    'continuously': 'continuellement',
    'contract': 'contrat',
    'contractor': 'entrepreneur',
    'contrary': 'contraire',
    'contrast': 'contraste',
    'contribute': 'contribuer',
    'contribution': 'contribution',
    'control': 'contrÃ´le',
    'controversial': 'controversÃ©',
    'controversy': 'controverse',
    'convention': 'convention',
    'conventional': 'conventionnel',
    'conversation': 'conversation',
    'convert': 'convertir',
    'conviction': 'conviction',
    'convince': 'convaincre',
    'cook': 'cuisiner',
    'cookie': 'biscuit',
    'cooking': 'cuisine',
    'cool': 'frais',
    'cooperation': 'coopÃ©ration',
    'cooperative': 'coopÃ©ratif',
    'cope': 'faire face',
    'copy': 'copie',
    'core': 'noyau',
    'corn': 'maÃ¯s',
    'corner': 'coin',
    'corporate': 'd\'entreprise',
    'corporation': 'sociÃ©tÃ©',
    'correct': 'correct',
    'correction': 'correction',
    'correctly': 'correctement',
    'correlation': 'corrÃ©lation',
    'correspondent': 'correspondant',
    'corresponding': 'correspondant',
    'corrupt': 'corrompu',
    'corruption': 'corruption',
    'cost': 'coÃ»t',
    'costume': 'costume',
    'cotton': 'coton',
    'couch': 'canapÃ©',
    'could': 'pourrait',
    'council': 'conseil',
    'count': 'compter',
    'counter': 'compteur',
    'counterpart': 'homologue',
    'countless': 'innombrable',
    'country': 'pays',
    'county': 'comtÃ©',
    'couple': 'couple',
    'courage': 'courage',
    'course': 'cours',
    'court': 'tribunal',
    'courtesy': 'courtoisie',
    'cousin': 'cousin',
    'cover': 'couvrir',
    'coverage': 'couverture',
    'cow': 'vache',
    'crack': 'fissure',
    'craft': 'artisanat',
    'crash': 'accident',
    'crazy': 'fou',
    'cream': 'crÃ¨me',
    'create': 'crÃ©er',
    'creation': 'crÃ©ation',
    'creative': 'crÃ©atif',
    'creativity': 'crÃ©ativitÃ©',
    'creator': 'crÃ©ateur',
    'creature': 'crÃ©ature',
    'credibility': 'crÃ©dibilitÃ©',
    'credit': 'crÃ©dit',
    'crew': 'Ã©quipage',
    'crime': 'crime',
    'criminal': 'criminel',
    'crisis': 'crise',
    'criteria': 'critÃ¨res',
    'criterion': 'critÃ¨re',
    'critic': 'critique',
    'critical': 'critique',
    'critically': 'de maniÃ¨re critique',
    'criticism': 'critique',
    'criticize': 'critiquer',
    'crop': 'rÃ©colte',
    'cross': 'croix',
    'crossing': 'traversÃ©e',
    'crowd': 'foule',
    'crucial': 'crucial',
    'cruise': 'croisiÃ¨re',
    'cry': 'pleurer',
    'crystal': 'cristal',
    'cultural': 'culturel',
    'culture': 'culture',
    'cup': 'tasse',
    'curious': 'curieux',
    'currency': 'devise',
    'current': 'actuel',
    'currently': 'actuellement',
    'curve': 'courbe',
    'custom': 'coutume',
    'customer': 'client',
    'cut': 'couper',
    'cutting': 'coupe',
    'cycle': 'cycle',
    'dad': 'papa',
    'daily': 'quotidien',
    'damage': 'dommage',
    'dance': 'danse',
    'dancing': 'danse',
    'danger': 'danger',
    'dangerous': 'dangereux',
    'dare': 'oser',
    'dark': 'sombre',
    'darkness': 'obscuritÃ©',
    'data': 'donnÃ©es',
    'database': 'base de donnÃ©es',
    'date': 'date',
    'dating': 'rencontres',
    'daughter': 'fille',
    'dawn': 'aube',
    'day': 'jour',
    'dead': 'mort',
    'deadline': 'date limite',
    'deadly': 'mortel',
    'deal': 'affaire',
    'dealer': 'concessionnaire',
    'dealing': 'transaction',
    'dear': 'cher',
    'death': 'mort',
    'debate': 'dÃ©bat',
    'debt': 'dette',
    'decade': 'dÃ©cennie',
    'december': 'dÃ©cembre',
    'decent': 'dÃ©cent',
    'decide': 'dÃ©cider',
    'decision': 'dÃ©cision',
    'deck': 'pont',
    'declaration': 'dÃ©claration',
    'declare': 'dÃ©clarer',
    'decline': 'dÃ©clin',
    'decrease': 'diminuer',
    'deep': 'profond',
    'deeply': 'profondÃ©ment',
    'deer': 'cerf',
    'defeat': 'dÃ©faite',
    'defend': 'dÃ©fendre',
    'defendant': 'accusÃ©',
    'defense': 'dÃ©fense',
    'defensive': 'dÃ©fensif',
    'deficit': 'dÃ©ficit',
    'define': 'dÃ©finir',
    'definitely': 'dÃ©finitivement',
    'definition': 'dÃ©finition',
    'degree': 'degrÃ©',
    'delay': 'retard',
    'delegate': 'dÃ©lÃ©guÃ©',
    'delegation': 'dÃ©lÃ©gation',
    'delete': 'supprimer',
    'deliberately': 'dÃ©libÃ©rÃ©ment',
    'deliver': 'livrer',
    'delivery': 'livraison',
    'demand': 'demande',
    'democracy': 'dÃ©mocratie',
    'democratic': 'dÃ©mocratique',
    'demonstrate': 'dÃ©montrer',
    'demonstration': 'dÃ©monstration',
    'department': 'dÃ©partement',
    'depend': 'dÃ©pendre',
    'dependent': 'dÃ©pendant',
    'depending': 'selon',
    'deployment': 'dÃ©ploiement',
    'deposit': 'dÃ©pÃ´t',
    'depression': 'dÃ©pression',
    'depth': 'profondeur',
    'deputy': 'adjoint',
    'derive': 'dÃ©river',
    'describe': 'dÃ©crire',
    'description': 'description',
    'desert': 'dÃ©sert',
    'deserve': 'mÃ©riter',
    'design': 'conception',
    'designer': 'concepteur',
    'desire': 'dÃ©sir',
    'desk': 'bureau',
    'desperate': 'dÃ©sespÃ©rÃ©',
    'despite': 'malgrÃ©',
    'destroy': 'dÃ©truire',
    'destruction': 'destruction',
    'detail': 'dÃ©tail',
    'detailed': 'dÃ©taillÃ©',
    'detect': 'dÃ©tecter',
    'detection': 'dÃ©tection',
    'detective': 'dÃ©tective',
    'determine': 'dÃ©terminer',
    'develop': 'dÃ©velopper',
    'developing': 'en dÃ©veloppement',
    'development': 'dÃ©veloppement',
    'device': 'appareil',
    'devote': 'consacrer',
    'dialogue': 'dialogue',
    'diamond': 'diamant',
    'diary': 'journal intime',
    'dick': 'pÃ©nis',
    'dictionary': 'dictionnaire',
    'die': 'mourir',
    'diet': 'rÃ©gime',
    'differ': 'diffÃ©rer',
    'difference': 'diffÃ©rence',
    'different': 'diffÃ©rent',
    'differently': 'diffÃ©remment',
    'difficult': 'difficile',
    'difficulty': 'difficultÃ©',
    'digital': 'numÃ©rique',
    'dimension': 'dimension',
    'dining': 'repas',
    'dinner': 'dÃ®ner',
    'direct': 'direct',
    'direction': 'direction',
    'directly': 'directement',
    'director': 'directeur',
    'directory': 'rÃ©pertoire',
    'dirty': 'sale',
    'disability': 'handicap',
    'disagree': 'Ãªtre en dÃ©saccord',
    'disappear': 'disparaÃ®tre',
    'disappointed': 'dÃ©Ã§u',
    'disappointing': 'dÃ©cevant',
    'disappointment': 'dÃ©ception',
    'disaster': 'catastrophe',
    'discipline': 'discipline',
    'discount': 'remise',
    'discover': 'dÃ©couvrir',
    'discovery': 'dÃ©couverte',
    'discrimination': 'discrimination',
    'discuss': 'discuter',
    'discussion': 'discussion',
    'disease': 'maladie',
    'dish': 'plat',
    'disk': 'disque',
    'dismiss': 'licencier',
    'disorder': 'dÃ©sordre',
    'display': 'affichage',
    'distance': 'distance',
    'distant': 'distant',
    'distinct': 'distinct',
    'distinction': 'distinction',
    'distinguish': 'distinguer',
    'distribute': 'distribuer',
    'distribution': 'distribution',
    'district': 'district',
    'divide': 'diviser',
    'division': 'division',
    'divorce': 'divorce',
    'do': 'faire',
    'dock': 'quai',
    'doctor': 'mÃ©decin',
    'document': 'document',
    'documentary': 'documentaire',
    'dog': 'chien',
    'dollar': 'dollar',
    'domain': 'domaine',
    'domestic': 'domestique',
    'dominant': 'dominant',
    'dominate': 'dominer',
    'door': 'porte',
    'double': 'double',
    'doubt': 'doute',
    'down': 'en bas',
    'downtown': 'centre-ville',
    'dozen': 'douzaine',
    'draft': 'brouillon',
    'drag': 'traÃ®ner',
    'drama': 'drame',
    'dramatic': 'dramatique',
    'dramatically': 'dramatiquement',
    'draw': 'dessiner',
    'drawing': 'dessin',
    'dream': 'rÃªve',
    'dress': 'robe',
    'dressed': 'habillÃ©',
    'dressing': 'habillage',
    'drink': 'boisson',
    'drinking': 'boire',
    'drive': 'conduire',
    'driver': 'conducteur',
    'driving': 'conduite',
    'drop': 'tomber',
    'drug': 'drogue',
    'dry': 'sec',
    'duck': 'canard',
    'due': 'dÃ»',
    'during': 'pendant',
    'dust': 'poussiÃ¨re',
    'duty': 'devoir',
    'dying': 'mourant',
    'dynamic': 'dynamique',
    'earth': 'terre',
    'ease': 'facilitÃ©',
    'easily': 'facilement',
    'east': 'est',
    'eastern': 'oriental',
    'easy': 'facile',
    'eat': 'manger',
    'eating': 'manger',
    'echo': 'Ã©cho',
    'economic': 'Ã©conomique',
    'economics': 'Ã©conomie',
    'economist': 'Ã©conomiste',
    'economy': 'Ã©conomie',
    'edition': 'Ã©dition',
    'editor': 'Ã©diteur',
    'editorial': 'Ã©ditorial',
    'education': 'Ã©ducation',
    'educational': 'Ã©ducatif',
    'educator': 'Ã©ducateur',
    'effect': 'effet',
    'effective': 'efficace',
    'effectively': 'efficacement',
    'effectiveness': 'efficacitÃ©',
    'efficiency': 'efficacitÃ©',
    'efficient': 'efficace',
    'efficiently': 'efficacement',
    'effort': 'effort',
    'egg': 'Å“uf',
    'eight': 'huit',
    'eighteen': 'dix-huit',
    'eighth': 'huitiÃ¨me',
    'eighty': 'quatre-vingts',
    'either': 'soit',
    'elderly': 'Ã¢gÃ©',
    'elect': 'Ã©lire',
    'election': 'Ã©lection',
    'electric': 'Ã©lectrique',
    'electrical': 'Ã©lectrique',
    'electricity': 'Ã©lectricitÃ©',
    'electronic': 'Ã©lectronique',
    'electronics': 'Ã©lectronique',
    'element': 'Ã©lÃ©ment',
    'elementary': 'Ã©lÃ©mentaire',
    'elephant': 'Ã©lÃ©phant',
    'elevator': 'ascenseur',
    'eleven': 'onze',
    'eliminate': 'Ã©liminer',
    'elimination': 'Ã©limination',
    'elite': 'Ã©lite',
    'else': 'autre',
    'elsewhere': 'ailleurs',
    'emerge': 'Ã©merger',
    'emergency': 'urgence',
    'emission': 'Ã©mission',
    'emotion': 'Ã©motion',
    'emotional': 'Ã©motionnel',
    'emotionally': 'Ã©motionnellement',
    'emphasis': 'emphase',
    'emphasize': 'souligner',
    'empire': 'empire',
    'employ': 'employer',
    'employee': 'employÃ©',
    'employer': 'employeur',
    'employment': 'emploi',
    'empty': 'vide',
    'enable': 'permettre',
    'encounter': 'rencontrer',
    'encourage': 'encourager',
    'encouragement': 'encouragement',
    'encouraging': 'encourageant',
    'end': 'fin',
    'ending': 'fin',
    'enemy': 'ennemi',
    'energy': 'Ã©nergie',
    'enforcement': 'application',
    'engage': 'engager',
    'engaged': 'fiancÃ©',
    'engagement': 'engagement',
    'engine': 'moteur',
    'engineer': 'ingÃ©nieur',
    'engineering': 'ingÃ©nierie',
    'enhance': 'amÃ©liorer',
    'enjoy': 'profiter',
    'enjoyable': 'agrÃ©able',
    'enormous': 'Ã©norme',
    'enough': 'assez',
    'ensure': 'assurer',
    'enter': 'entrer',
    'enterprise': 'entreprise',
    'entertain': 'divertir',
    'entertaining': 'divertissant',
    'entertainment': 'divertissement',
    'enthusiasm': 'enthousiasme',
    'enthusiastic': 'enthousiaste',
    'entire': 'entier',
    'entirely': 'entiÃ¨rement',
    'entitle': 'donner droit',
    'entrance': 'entrÃ©e',
    'entry': 'entrÃ©e',
    'environment': 'environnement',
    'environmental': 'environnemental',
    'episode': 'Ã©pisode',
    'equal': 'Ã©gal',
    'equally': 'Ã©galement',
    'equation': 'Ã©quation',
    'equipment': 'Ã©quipement',
    'equivalent': 'Ã©quivalent',
    'era': 'Ã¨re',
    'error': 'erreur',
    'escape': 'Ã©chapper',
    'especially': 'surtout',
    'essay': 'essai',
    'essential': 'essentiel',
    'essentially': 'essentiellement',
    'establish': 'Ã©tablir',
    'establishment': 'Ã©tablissement',
    'estate': 'propriÃ©tÃ©',
    'estimate': 'estimer',
    'etc': 'etc',
    'ethical': 'Ã©thique',
    'ethics': 'Ã©thique',
    'ethnic': 'ethnique',
    'european': 'europÃ©en',
    'evaluate': 'Ã©valuer',
    'evaluation': 'Ã©valuation',
    'even': 'mÃªme',
    'evening': 'soir',
    'event': 'Ã©vÃ©nement',
    'eventually': 'finalement',
    'ever': 'jamais',
    'every': 'chaque',
    'everybody': 'tout le monde',
    'everyday': 'quotidien',
    'everyone': 'tout le monde',
    'everything': 'tout',
    'everywhere': 'partout',
    'evidence': 'preuve',
    'evident': 'Ã©vident',
    'evil': 'mal',
    'evolution': 'Ã©volution',
    'evolve': 'Ã©voluer',
    'exact': 'exact',
    'exactly': 'exactement',
    'exam': 'examen',
    'examination': 'examen',
    'examine': 'examiner',
    'example': 'exemple',
    'exceed': 'dÃ©passer',
    'excellent': 'excellent',
    'except': 'sauf',
    'exception': 'exception',
    'exceptional': 'exceptionnel',
    'exchange': 'Ã©change',
    'excited': 'excitÃ©',
    'excitement': 'excitation',
    'exciting': 'excitant',
    'exclude': 'exclure',
    'excuse': 'excuse',
    'execute': 'exÃ©cuter',
    'execution': 'exÃ©cution',
    'executive': 'cadre',
    'exercise': 'exercice',
    'exhibit': 'exposer',
    'exhibition': 'exposition',
    'exist': 'exister',
    'existence': 'existence',
    'existing': 'existant',
    'exit': 'sortie',
    'expand': 'Ã©tendre',
    'expansion': 'expansion',
    'expect': 's\'attendre',
    'expectation': 'attente',
    'expected': 'attendu',
    'expedition': 'expÃ©dition',
    'expense': 'dÃ©pense',
    'expensive': 'cher',
    'experience': 'expÃ©rience',
    'experienced': 'expÃ©rimentÃ©',
    'experiment': 'expÃ©rience',
    'experimental': 'expÃ©rimental',
    'expert': 'expert',
    'expertise': 'expertise',
    'explain': 'expliquer',
    'explanation': 'explication',
    'explode': 'exploser',
    'exploration': 'exploration',
    'explore': 'explorer',
    'explosion': 'explosion',
    'export': 'exporter',
    'expose': 'exposer',
    'exposure': 'exposition',
    'express': 'exprimer',
    'expression': 'expression',
    'extend': 'Ã©tendre',
    'extension': 'extension',
    'extensive': 'Ã©tendu',
    'extent': 'mesure',
    'external': 'externe',
    'extra': 'supplÃ©mentaire',
    'extraordinary': 'extraordinaire',
    'extreme': 'extrÃªme',
    'extremely': 'extrÃªmement',
    'eye': 'Å“il'
};

console.log(`ðŸ“ Ajout de ${Object.keys(translations_batch4).length} traductions finales...\n`);

const updateStmt = db.prepare('UPDATE words SET translation = ? WHERE word = ? AND translation = ?');
let updated = 0;

for (const [word, translation] of Object.entries(translations_batch4)) {
    const result = updateStmt.run(translation, word, '[ ]');
    if (result.changes > 0) {
        updated++;
        if (updated <= 20) {
            console.log(`âœ… ${word} â†’ ${translation}`);
        }
    }
}

if (updated > 20) {
    console.log(`... et ${updated - 20} autres traductions`);
}

console.log(`\nðŸŽ¯ ${updated} traductions finales ajoutÃ©es avec succÃ¨s`);

// Statistiques finales
const stats = db.prepare(`
    SELECT 
        COUNT(*) as total,
        COUNT(CASE WHEN translation != '[ ]' THEN 1 END) as with_real_translation,
        COUNT(CASE WHEN translation = '[ ]' THEN 1 END) as without_translation
    FROM words
`).get();

console.log('\nðŸ“ˆ Statistiques finales:');
console.log(`- Total des mots: ${stats.total}`);
console.log(`- Avec vraie traduction: ${stats.with_real_translation}`);
console.log(`- Sans traduction ([ ]): ${stats.without_translation}`);
console.log(`- Pourcentage traduit: ${((stats.with_real_translation / stats.total) * 100).toFixed(1)}%`);

// Si il reste des mots, les afficher
if (stats.without_translation > 0) {
    console.log('\nðŸ” Mots restants non traduits:');
    const remaining = db.prepare('SELECT word FROM words WHERE translation = ? ORDER BY word LIMIT 50').all('[ ]');
    remaining.forEach((row, index) => {
        console.log(`${index + 1}. ${row.word}`);
    });
    if (stats.without_translation > 50) {
        console.log(`... et ${stats.without_translation - 50} autres`);
    }
} else {
    console.log('\nðŸŽ‰ FÃ‰LICITATIONS ! Tous les mots ont Ã©tÃ© traduits !');
}

db.close();
console.log('\nâœ… Lot 4 terminÃ© !');
