import Database from 'better-sqlite3';

// Ouvrir la base de donn√©es
const db = new Database('english-app.db');

console.log('üîç Traduction massive - Lot 4 (derniers mots)...\n');

// Traductions pour les mots restants
const translations_batch4 = {
    'british': 'britannique',
    'buck': 'm√¢le',
    'bunch': 'groupe',
    'cabin': 'cabine',
    'canadian': 'canadien',
    'carrier': 'transporteur',
    'ceo': 'PDG',
    'changing': 'changeant',
    'chef': 'chef cuisinier',
    'chinese': 'chinois',
    'cholesterol': 'cholest√©rol',
    'clinical': 'clinique',
    'cluster': 'groupe',
    'coalition': 'coalition',
    'cognitive': 'cognitif',
    'collective': 'collectif',
    'colonial': 'colonial',
    'commander': 'commandant',
    'composition': 'composition',
    'comprehensive': 'complet',
    'concentrate': 'se concentrer',
    'concentration': 'concentration',
    'conception': 'conception',
    'conclude': 'conclure',
    'conclusion': 'conclusion',
    'concrete': 'b√©ton',
    'conference': 'conf√©rence',
    'configure': 'configurer',
    'confirmation': 'confirmation',
    'confirm': 'confirmer',
    'conflict': 'conflit',
    'confront': 'confronter',
    'confusion': 'confusion',
    'congress': 'congr√®s',
    'congressional': 'du congr√®s',
    'connect': 'connecter',
    'connection': 'connexion',
    'consciousness': 'conscience',
    'consensus': 'consensus',
    'consent': 'consentement',
    'consequence': 'cons√©quence',
    'consequently': 'par cons√©quent',
    'conservation': 'conservation',
    'conservative': 'conservateur',
    'conserve': 'conserver',
    'consider': 'consid√©rer',
    'considerable': 'consid√©rable',
    'considerably': 'consid√©rablement',
    'consideration': 'consid√©ration',
    'consist': 'consister',
    'consistent': 'coh√©rent',
    'consistently': 'de mani√®re coh√©rente',
    'conspiracy': 'conspiration',
    'constant': 'constant',
    'constantly': 'constamment',
    'constitute': 'constituer',
    'constitution': 'constitution',
    'constitutional': 'constitutionnel',
    'constraint': 'contrainte',
    'construct': 'construire',
    'construction': 'construction',
    'consultation': 'consultation',
    'consume': 'consommer',
    'consumer': 'consommateur',
    'consumption': 'consommation',
    'contact': 'contact',
    'contain': 'contenir',
    'container': 'conteneur',
    'contemporary': 'contemporain',
    'content': 'contenu',
    'contest': 'concours',
    'context': 'contexte',
    'continent': 'continent',
    'continue': 'continuer',
    'continued': 'continu√©',
    'continuing': 'continu',
    'continuous': 'continu',
    'continuously': 'continuellement',
    'contract': 'contrat',
    'contractor': 'entrepreneur',
    'contrary': 'contraire',
    'contrast': 'contraste',
    'contribute': 'contribuer',
    'contribution': 'contribution',
    'control': 'contr√¥le',
    'controversial': 'controvers√©',
    'controversy': 'controverse',
    'convention': 'convention',
    'conventional': 'conventionnel',
    'conversation': 'conversation',
    'convert': 'convertir',
    'conviction': 'conviction',
    'convince': 'convaincre',
    'cook': 'cuisiner',
    'cookie': 'biscuit',
    'cooking': 'cuisine',
    'cool': 'frais',
    'cooperation': 'coop√©ration',
    'cooperative': 'coop√©ratif',
    'cope': 'faire face',
    'copy': 'copie',
    'core': 'noyau',
    'corn': 'ma√Øs',
    'corner': 'coin',
    'corporate': 'd\'entreprise',
    'corporation': 'soci√©t√©',
    'correct': 'correct',
    'correction': 'correction',
    'correctly': 'correctement',
    'correlation': 'corr√©lation',
    'correspondent': 'correspondant',
    'corresponding': 'correspondant',
    'corrupt': 'corrompu',
    'corruption': 'corruption',
    'cost': 'co√ªt',
    'costume': 'costume',
    'cotton': 'coton',
    'couch': 'canap√©',
    'could': 'pourrait',
    'council': 'conseil',
    'count': 'compter',
    'counter': 'compteur',
    'counterpart': 'homologue',
    'countless': 'innombrable',
    'country': 'pays',
    'county': 'comt√©',
    'couple': 'couple',
    'courage': 'courage',
    'course': 'cours',
    'court': 'tribunal',
    'courtesy': 'courtoisie',
    'cousin': 'cousin',
    'cover': 'couvrir',
    'coverage': 'couverture',
    'cow': 'vache',
    'crack': 'fissure',
    'craft': 'artisanat',
    'crash': 'accident',
    'crazy': 'fou',
    'cream': 'cr√®me',
    'create': 'cr√©er',
    'creation': 'cr√©ation',
    'creative': 'cr√©atif',
    'creativity': 'cr√©ativit√©',
    'creator': 'cr√©ateur',
    'creature': 'cr√©ature',
    'credibility': 'cr√©dibilit√©',
    'credit': 'cr√©dit',
    'crew': '√©quipage',
    'crime': 'crime',
    'criminal': 'criminel',
    'crisis': 'crise',
    'criteria': 'crit√®res',
    'criterion': 'crit√®re',
    'critic': 'critique',
    'critical': 'critique',
    'critically': 'de mani√®re critique',
    'criticism': 'critique',
    'criticize': 'critiquer',
    'crop': 'r√©colte',
    'cross': 'croix',
    'crossing': 'travers√©e',
    'crowd': 'foule',
    'crucial': 'crucial',
    'cruise': 'croisi√®re',
    'cry': 'pleurer',
    'crystal': 'cristal',
    'cultural': 'culturel',
    'culture': 'culture',
    'cup': 'tasse',
    'curious': 'curieux',
    'currency': 'devise',
    'current': 'actuel',
    'currently': 'actuellement',
    'curve': 'courbe',
    'custom': 'coutume',
    'customer': 'client',
    'cut': 'couper',
    'cutting': 'coupe',
    'cycle': 'cycle',
    'dad': 'papa',
    'daily': 'quotidien',
    'damage': 'dommage',
    'dance': 'danse',
    'dancing': 'danse',
    'danger': 'danger',
    'dangerous': 'dangereux',
    'dare': 'oser',
    'dark': 'sombre',
    'darkness': 'obscurit√©',
    'data': 'donn√©es',
    'database': 'base de donn√©es',
    'date': 'date',
    'dating': 'rencontres',
    'daughter': 'fille',
    'dawn': 'aube',
    'day': 'jour',
    'dead': 'mort',
    'deadline': 'date limite',
    'deadly': 'mortel',
    'deal': 'affaire',
    'dealer': 'concessionnaire',
    'dealing': 'transaction',
    'dear': 'cher',
    'death': 'mort',
    'debate': 'd√©bat',
    'debt': 'dette',
    'decade': 'd√©cennie',
    'december': 'd√©cembre',
    'decent': 'd√©cent',
    'decide': 'd√©cider',
    'decision': 'd√©cision',
    'deck': 'pont',
    'declaration': 'd√©claration',
    'declare': 'd√©clarer',
    'decline': 'd√©clin',
    'decrease': 'diminuer',
    'deep': 'profond',
    'deeply': 'profond√©ment',
    'deer': 'cerf',
    'defeat': 'd√©faite',
    'defend': 'd√©fendre',
    'defendant': 'accus√©',
    'defense': 'd√©fense',
    'defensive': 'd√©fensif',
    'deficit': 'd√©ficit',
    'define': 'd√©finir',
    'definitely': 'd√©finitivement',
    'definition': 'd√©finition',
    'degree': 'degr√©',
    'delay': 'retard',
    'delegate': 'd√©l√©gu√©',
    'delegation': 'd√©l√©gation',
    'delete': 'supprimer',
    'deliberately': 'd√©lib√©r√©ment',
    'deliver': 'livrer',
    'delivery': 'livraison',
    'demand': 'demande',
    'democracy': 'd√©mocratie',
    'democratic': 'd√©mocratique',
    'demonstrate': 'd√©montrer',
    'demonstration': 'd√©monstration',
    'department': 'd√©partement',
    'depend': 'd√©pendre',
    'dependent': 'd√©pendant',
    'depending': 'selon',
    'deployment': 'd√©ploiement',
    'deposit': 'd√©p√¥t',
    'depression': 'd√©pression',
    'depth': 'profondeur',
    'deputy': 'adjoint',
    'derive': 'd√©river',
    'describe': 'd√©crire',
    'description': 'description',
    'desert': 'd√©sert',
    'deserve': 'm√©riter',
    'design': 'conception',
    'designer': 'concepteur',
    'desire': 'd√©sir',
    'desk': 'bureau',
    'desperate': 'd√©sesp√©r√©',
    'despite': 'malgr√©',
    'destroy': 'd√©truire',
    'destruction': 'destruction',
    'detail': 'd√©tail',
    'detailed': 'd√©taill√©',
    'detect': 'd√©tecter',
    'detection': 'd√©tection',
    'detective': 'd√©tective',
    'determine': 'd√©terminer',
    'develop': 'd√©velopper',
    'developing': 'en d√©veloppement',
    'development': 'd√©veloppement',
    'device': 'appareil',
    'devote': 'consacrer',
    'dialogue': 'dialogue',
    'diamond': 'diamant',
    'diary': 'journal intime',
    'dick': 'p√©nis',
    'dictionary': 'dictionnaire',
    'die': 'mourir',
    'diet': 'r√©gime',
    'differ': 'diff√©rer',
    'difference': 'diff√©rence',
    'different': 'diff√©rent',
    'differently': 'diff√©remment',
    'difficult': 'difficile',
    'difficulty': 'difficult√©',
    'digital': 'num√©rique',
    'dimension': 'dimension',
    'dining': 'repas',
    'dinner': 'd√Æner',
    'direct': 'direct',
    'direction': 'direction',
    'directly': 'directement',
    'director': 'directeur',
    'directory': 'r√©pertoire',
    'dirty': 'sale',
    'disability': 'handicap',
    'disagree': '√™tre en d√©saccord',
    'disappear': 'dispara√Ætre',
    'disappointed': 'd√©√ßu',
    'disappointing': 'd√©cevant',
    'disappointment': 'd√©ception',
    'disaster': 'catastrophe',
    'discipline': 'discipline',
    'discount': 'remise',
    'discover': 'd√©couvrir',
    'discovery': 'd√©couverte',
    'discrimination': 'discrimination',
    'discuss': 'discuter',
    'discussion': 'discussion',
    'disease': 'maladie',
    'dish': 'plat',
    'disk': 'disque',
    'dismiss': 'licencier',
    'disorder': 'd√©sordre',
    'display': 'affichage',
    'distance': 'distance',
    'distant': 'distant',
    'distinct': 'distinct',
    'distinction': 'distinction',
    'distinguish': 'distinguer',
    'distribute': 'distribuer',
    'distribution': 'distribution',
    'district': 'district',
    'divide': 'diviser',
    'division': 'division',
    'divorce': 'divorce',
    'do': 'faire',
    'dock': 'quai',
    'doctor': 'm√©decin',
    'document': 'document',
    'documentary': 'documentaire',
    'dog': 'chien',
    'dollar': 'dollar',
    'domain': 'domaine',
    'domestic': 'domestique',
    'dominant': 'dominant',
    'dominate': 'dominer',
    'door': 'porte',
    'double': 'double',
    'doubt': 'doute',
    'down': 'en bas',
    'downtown': 'centre-ville',
    'dozen': 'douzaine',
    'draft': 'brouillon',
    'drag': 'tra√Æner',
    'drama': 'drame',
    'dramatic': 'dramatique',
    'dramatically': 'dramatiquement',
    'draw': 'dessiner',
    'drawing': 'dessin',
    'dream': 'r√™ve',
    'dress': 'robe',
    'dressed': 'habill√©',
    'dressing': 'habillage',
    'drink': 'boisson',
    'drinking': 'boire',
    'drive': 'conduire',
    'driver': 'conducteur',
    'driving': 'conduite',
    'drop': 'tomber',
    'drug': 'drogue',
    'dry': 'sec',
    'duck': 'canard',
    'due': 'd√ª',
    'during': 'pendant',
    'dust': 'poussi√®re',
    'duty': 'devoir',
    'dying': 'mourant',
    'dynamic': 'dynamique',
    'earth': 'terre',
    'ease': 'facilit√©',
    'easily': 'facilement',
    'east': 'est',
    'eastern': 'oriental',
    'easy': 'facile',
    'eat': 'manger',
    'eating': 'manger',
    'echo': '√©cho',
    'economic': '√©conomique',
    'economics': '√©conomie',
    'economist': '√©conomiste',
    'economy': '√©conomie',
    'edition': '√©dition',
    'editor': '√©diteur',
    'editorial': '√©ditorial',
    'education': '√©ducation',
    'educational': '√©ducatif',
    'educator': '√©ducateur',
    'effect': 'effet',
    'effective': 'efficace',
    'effectively': 'efficacement',
    'effectiveness': 'efficacit√©',
    'efficiency': 'efficacit√©',
    'efficient': 'efficace',
    'efficiently': 'efficacement',
    'effort': 'effort',
    'egg': '≈ìuf',
    'eight': 'huit',
    'eighteen': 'dix-huit',
    'eighth': 'huiti√®me',
    'eighty': 'quatre-vingts',
    'either': 'soit',
    'elderly': '√¢g√©',
    'elect': '√©lire',
    'election': '√©lection',
    'electric': '√©lectrique',
    'electrical': '√©lectrique',
    'electricity': '√©lectricit√©',
    'electronic': '√©lectronique',
    'electronics': '√©lectronique',
    'element': '√©l√©ment',
    'elementary': '√©l√©mentaire',
    'elephant': '√©l√©phant',
    'elevator': 'ascenseur',
    'eleven': 'onze',
    'eliminate': '√©liminer',
    'elimination': '√©limination',
    'elite': '√©lite',
    'else': 'autre',
    'elsewhere': 'ailleurs',
    'emerge': '√©merger',
    'emergency': 'urgence',
    'emission': '√©mission',
    'emotion': '√©motion',
    'emotional': '√©motionnel',
    'emotionally': '√©motionnellement',
    'emphasis': 'emphase',
    'emphasize': 'souligner',
    'empire': 'empire',
    'employ': 'employer',
    'employee': 'employ√©',
    'employer': 'employeur',
    'employment': 'emploi',
    'empty': 'vide',
    'enable': 'permettre',
    'encounter': 'rencontrer',
    'encourage': 'encourager',
    'encouragement': 'encouragement',
    'encouraging': 'encourageant',
    'end': 'fin',
    'ending': 'fin',
    'enemy': 'ennemi',
    'energy': '√©nergie',
    'enforcement': 'application',
    'engage': 'engager',
    'engaged': 'fianc√©',
    'engagement': 'engagement',
    'engine': 'moteur',
    'engineer': 'ing√©nieur',
    'engineering': 'ing√©nierie',
    'enhance': 'am√©liorer',
    'enjoy': 'profiter',
    'enjoyable': 'agr√©able',
    'enormous': '√©norme',
    'enough': 'assez',
    'ensure': 'assurer',
    'enter': 'entrer',
    'enterprise': 'entreprise',
    'entertain': 'divertir',
    'entertaining': 'divertissant',
    'entertainment': 'divertissement',
    'enthusiasm': 'enthousiasme',
    'enthusiastic': 'enthousiaste',
    'entire': 'entier',
    'entirely': 'enti√®rement',
    'entitle': 'donner droit',
    'entrance': 'entr√©e',
    'entry': 'entr√©e',
    'environment': 'environnement',
    'environmental': 'environnemental',
    'episode': '√©pisode',
    'equal': '√©gal',
    'equally': '√©galement',
    'equation': '√©quation',
    'equipment': '√©quipement',
    'equivalent': '√©quivalent',
    'era': '√®re',
    'error': 'erreur',
    'escape': '√©chapper',
    'especially': 'surtout',
    'essay': 'essai',
    'essential': 'essentiel',
    'essentially': 'essentiellement',
    'establish': '√©tablir',
    'establishment': '√©tablissement',
    'estate': 'propri√©t√©',
    'estimate': 'estimer',
    'etc': 'etc',
    'ethical': '√©thique',
    'ethics': '√©thique',
    'ethnic': 'ethnique',
    'european': 'europ√©en',
    'evaluate': '√©valuer',
    'evaluation': '√©valuation',
    'even': 'm√™me',
    'evening': 'soir',
    'event': '√©v√©nement',
    'eventually': 'finalement',
    'ever': 'jamais',
    'every': 'chaque',
    'everybody': 'tout le monde',
    'everyday': 'quotidien',
    'everyone': 'tout le monde',
    'everything': 'tout',
    'everywhere': 'partout',
    'evidence': 'preuve',
    'evident': '√©vident',
    'evil': 'mal',
    'evolution': '√©volution',
    'evolve': '√©voluer',
    'exact': 'exact',
    'exactly': 'exactement',
    'exam': 'examen',
    'examination': 'examen',
    'examine': 'examiner',
    'example': 'exemple',
    'exceed': 'd√©passer',
    'excellent': 'excellent',
    'except': 'sauf',
    'exception': 'exception',
    'exceptional': 'exceptionnel',
    'exchange': '√©change',
    'excited': 'excit√©',
    'excitement': 'excitation',
    'exciting': 'excitant',
    'exclude': 'exclure',
    'excuse': 'excuse',
    'execute': 'ex√©cuter',
    'execution': 'ex√©cution',
    'executive': 'cadre',
    'exercise': 'exercice',
    'exhibit': 'exposer',
    'exhibition': 'exposition',
    'exist': 'exister',
    'existence': 'existence',
    'existing': 'existant',
    'exit': 'sortie',
    'expand': '√©tendre',
    'expansion': 'expansion',
    'expect': 's\'attendre',
    'expectation': 'attente',
    'expected': 'attendu',
    'expedition': 'exp√©dition',
    'expense': 'd√©pense',
    'expensive': 'cher',
    'experience': 'exp√©rience',
    'experienced': 'exp√©riment√©',
    'experiment': 'exp√©rience',
    'experimental': 'exp√©rimental',
    'expert': 'expert',
    'expertise': 'expertise',
    'explain': 'expliquer',
    'explanation': 'explication',
    'explode': 'exploser',
    'exploration': 'exploration',
    'explore': 'explorer',
    'explosion': 'explosion',
    'export': 'exporter',
    'expose': 'exposer',
    'exposure': 'exposition',
    'express': 'exprimer',
    'expression': 'expression',
    'extend': '√©tendre',
    'extension': 'extension',
    'extensive': '√©tendu',
    'extent': 'mesure',
    'external': 'externe',
    'extra': 'suppl√©mentaire',
    'extraordinary': 'extraordinaire',
    'extreme': 'extr√™me',
    'extremely': 'extr√™mement',
    'eye': '≈ìil'
};

console.log(`üìù Ajout de ${Object.keys(translations_batch4).length} traductions finales...\n`);

const updateStmt = db.prepare('UPDATE words SET translation = ? WHERE word = ? AND translation = ?');
let updated = 0;

for (const [word, translation] of Object.entries(translations_batch4)) {
    const result = updateStmt.run(translation, word, '[ ]');
    if (result.changes > 0) {
        updated++;
        if (updated <= 20) {
            console.log(`‚úÖ ${word} ‚Üí ${translation}`);
        }
    }
}

if (updated > 20) {
    console.log(`... et ${updated - 20} autres traductions`);
}

console.log(`\nüéØ ${updated} traductions finales ajout√©es avec succ√®s`);

// Statistiques finales
const stats = db.prepare(`
    SELECT 
        COUNT(*) as total,
        COUNT(CASE WHEN translation != '[ ]' THEN 1 END) as with_real_translation,
        COUNT(CASE WHEN translation = '[ ]' THEN 1 END) as without_translation
    FROM words
`).get();

console.log('\nüìà Statistiques finales:');
console.log(`- Total des mots: ${stats.total}`);
console.log(`- Avec vraie traduction: ${stats.with_real_translation}`);
console.log(`- Sans traduction ([ ]): ${stats.without_translation}`);
console.log(`- Pourcentage traduit: ${((stats.with_real_translation / stats.total) * 100).toFixed(1)}%`);

// Si il reste des mots, les afficher
if (stats.without_translation > 0) {
    console.log('\nüîç Mots restants non traduits:');
    const remaining = db.prepare('SELECT word FROM words WHERE translation = ? ORDER BY word LIMIT 50').all('[ ]');
    remaining.forEach((row, index) => {
        console.log(`${index + 1}. ${row.word}`);
    });
    if (stats.without_translation > 50) {
        console.log(`... et ${stats.without_translation - 50} autres`);
    }
} else {
    console.log('\nüéâ F√âLICITATIONS ! Tous les mots ont √©t√© traduits !');
}

db.close();
console.log('\n‚úÖ Lot 4 termin√© !');
