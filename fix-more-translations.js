import { getDatabase } from './src/database/database.js';

const db = getDatabase();

console.log('üìö Extension du dictionnaire de traductions...\n');

// Dictionnaire √©tendu avec plus de traductions courantes
const extendedTranslations = {
    // Mots d'actions/verbes
    'achieve': 'atteindre',
    'act': 'agir',
    'add': 'ajouter',
    'admit': 'admettre',
    'adopt': 'adopter',
    'advance': 'avancer',
    'affect': 'affecter',
    'agree': '√™tre d\'accord',
    'aim': 'viser',
    'allow': 'permettre',
    'analyze': 'analyser',
    'appear': 'appara√Ætre',
    'apply': 'appliquer',
    'approach': 'approcher',
    'argue': 'argumenter',
    'arrive': 'arriver',
    'ask': 'demander',
    'assume': 'supposer',
    'attack': 'attaquer',
    'attempt': 'tenter',
    'attend': 'assister',
    'avoid': '√©viter',
    'beat': 'battre',
    'become': 'devenir',
    'begin': 'commencer',
    'believe': 'croire',
    'belong': 'appartenir',
    'bend': 'plier',
    'bite': 'mordre',
    'blow': 'souffler',
    'break': 'casser',
    'bring': 'apporter',
    'build': 'construire',
    'burn': 'br√ªler',
    'buy': 'acheter',
    'call': 'appeler',
    'carry': 'porter',
    'catch': 'attraper',
    'cause': 'causer',
    'change': 'changer',
    'charge': 'charger',
    'check': 'v√©rifier',
    'choose': 'choisir',
    'claim': 'revendiquer',
    'clean': 'nettoyer',
    'clear': 'clair',
    'climb': 'grimper',
    'close': 'fermer',
    'collect': 'collecter',
    'come': 'venir',
    'compare': 'comparer',
    'compete': 'concourir',
    'complete': 'compl√©ter',
    'consider': 'consid√©rer',
    'contain': 'contenir',
    'continue': 'continuer',
    'control': 'contr√¥ler',
    'cook': 'cuisiner',
    'cool': 'frais',
    'copy': 'copier',
    'cost': 'co√ªter',
    'count': 'compter',
    'cover': 'couvrir',
    'create': 'cr√©er',
    'cry': 'pleurer',
    'cut': 'couper',
    'dance': 'danser',
    'deal': 'traiter',
    'decide': 'd√©cider',
    'defend': 'd√©fendre',
    'deliver': 'livrer',
    'describe': 'd√©crire',
    'design': 'concevoir',
    'develop': 'd√©velopper',
    'die': 'mourir',
    'discover': 'd√©couvrir',
    'discuss': 'discuter',
    'do': 'faire',
    'draw': 'dessiner',
    'dream': 'r√™ver',
    'drink': 'boire',
    'drive': 'conduire',
    'drop': 'laisser tomber',
    'eat': 'manger',
    'end': 'finir',
    'enjoy': 'appr√©cier',
    'enter': 'entrer',
    'establish': '√©tablir',
    'examine': 'examiner',
    'exist': 'exister',
    'expect': 'attendre',
    'experience': 'exp√©rimenter',
    'explain': 'expliquer',
    'express': 'exprimer',
    'face': 'faire face',
    'fail': '√©chouer',
    'fall': 'tomber',
    'feel': 'sentir',
    'fight': 'se battre',
    'fill': 'remplir',
    'find': 'trouver',
    'finish': 'finir',
    'fly': 'voler',
    'focus': 'se concentrer',
    'follow': 'suivre',
    'force': 'forcer',
    'forget': 'oublier',
    'form': 'former',
    'get': 'obtenir',
    'give': 'donner',
    'go': 'aller',
    'grow': 'grandir',
    'happen': 'arriver',
    'have': 'avoir',
    'hear': 'entendre',
    'help': 'aider',
    'hide': 'cacher',
    'hit': 'frapper',
    'hold': 'tenir',
    'hope': 'esp√©rer',
    'hurt': 'blesser',
    'identify': 'identifier',
    'imagine': 'imaginer',
    'improve': 'am√©liorer',
    'include': 'inclure',
    'increase': 'augmenter',
    'indicate': 'indiquer',
    'influence': 'influencer',
    'involve': 'impliquer',
    'join': 'rejoindre',
    'jump': 'sauter',
    'keep': 'garder',
    'kill': 'tuer',
    'know': 'savoir',
    'lack': 'manquer',
    'land': 'atterrir',
    'last': 'durer',
    'laugh': 'rire',
    'lead': 'mener',
    'learn': 'apprendre',
    'leave': 'partir',
    'let': 'laisser',
    'lie': 'mentir',
    'lift': 'lever',
    'like': 'aimer',
    'listen': '√©couter',
    'live': 'vivre',
    'look': 'regarder',
    'lose': 'perdre',
    'love': 'aimer',
    'make': 'faire',
    'manage': 'g√©rer',
    'matter': 'importer',
    'mean': 'signifier',
    'meet': 'rencontrer',
    'mention': 'mentionner',
    'miss': 'manquer',
    'move': 'bouger',
    'need': 'avoir besoin',
    'offer': 'offrir',
    'open': 'ouvrir',
    'order': 'commander',
    'organize': 'organiser',
    'own': 'poss√©der',
    'pay': 'payer',
    'perform': 'performer',
    'pick': 'choisir',
    'place': 'placer',
    'plan': 'planifier',
    'play': 'jouer',
    'point': 'pointer',
    'prepare': 'pr√©parer',
    'present': 'pr√©senter',
    'prevent': 'pr√©venir',
    'produce': 'produire',
    'protect': 'prot√©ger',
    'provide': 'fournir',
    'pull': 'tirer',
    'push': 'pousser',
    'put': 'mettre',
    'raise': 'lever',
    'reach': 'atteindre',
    'read': 'lire',
    'realize': 'r√©aliser',
    'receive': 'recevoir',
    'recognize': 'reconna√Ætre',
    'record': 'enregistrer',
    'reduce': 'r√©duire',
    'reflect': 'refl√©ter',
    'relate': 'relier',
    'remain': 'rester',
    'remember': 'se souvenir',
    'remove': 'enlever',
    'replace': 'remplacer',
    'report': 'rapporter',
    'represent': 'repr√©senter',
    'require': 'exiger',
    'research': 'rechercher',
    'respond': 'r√©pondre',
    'result': 'r√©sulter',
    'return': 'retourner',
    'reveal': 'r√©v√©ler',
    'run': 'courir',
    'save': 'sauver',
    'say': 'dire',
    'see': 'voir',
    'seek': 'chercher',
    'sell': 'vendre',
    'send': 'envoyer',
    'serve': 'servir',
    'set': 'placer',
    'share': 'partager',
    'shoot': 'tirer',
    'show': 'montrer',
    'shut': 'fermer',
    'sign': 'signer',
    'sing': 'chanter',
    'sit': 's\'asseoir',
    'sleep': 'dormir',
    'smile': 'sourire',
    'solve': 'r√©soudre',
    'speak': 'parler',
    'spend': 'd√©penser',
    'stand': 'se tenir debout',
    'start': 'commencer',
    'stay': 'rester',
    'stop': 'arr√™ter',
    'study': '√©tudier',
    'suggest': 'sugg√©rer',
    'support': 'soutenir',
    'take': 'prendre',
    'talk': 'parler',
    'teach': 'enseigner',
    'tell': 'dire',
    'think': 'penser',
    'throw': 'jeter',
    'touch': 'toucher',
    'travel': 'voyager',
    'try': 'essayer',
    'turn': 'tourner',
    'understand': 'comprendre',
    'use': 'utiliser',
    'visit': 'visiter',
    'wait': 'attendre',
    'walk': 'marcher',
    'want': 'vouloir',
    'watch': 'regarder',
    'wear': 'porter',
    'win': 'gagner',
    'wish': 'souhaiter',
    'work': 'travailler',
    'worry': 's\'inqui√©ter',
    'write': '√©crire',

    // Noms communs
    'accident': 'accident',
    'account': 'compte',
    'action': 'action',
    'activity': 'activit√©',
    'address': 'adresse',
    'adult': 'adulte',
    'advice': 'conseil',
    'age': '√¢ge',
    'agency': 'agence',
    'agent': 'agent',
    'agreement': 'accord',
    'air': 'air',
    'animal': 'animal',
    'answer': 'r√©ponse',
    'area': 'zone',
    'arm': 'bras',
    'army': 'arm√©e',
    'art': 'art',
    'article': 'article',
    'artist': 'artiste',
    'attention': 'attention',
    'baby': 'b√©b√©',
    'back': 'dos',
    'ball': 'balle',
    'bank': 'banque',
    'bar': 'bar',
    'base': 'base',
    'beach': 'plage',
    'bed': 'lit',
    'beginning': 'd√©but',
    'bird': 'oiseau',
    'blood': 'sang',
    'body': 'corps',
    'book': 'livre',
    'boy': 'gar√ßon',
    'brain': 'cerveau',
    'bread': 'pain',
    'brother': 'fr√®re',
    'building': 'b√¢timent',
    'business': 'entreprise',
    'car': 'voiture',
    'card': 'carte',
    'case': 'cas',
    'cat': 'chat',
    'cause': 'cause',
    'center': 'centre',
    'century': 'si√®cle',
    'chance': 'chance',
    'change': 'changement',
    'character': 'caract√®re',
    'child': 'enfant',
    'choice': 'choix',
    'church': '√©glise',
    'city': 'ville',
    'class': 'classe',
    'coffee': 'caf√©',
    'college': 'universit√©',
    'color': 'couleur',
    'community': 'communaut√©',
    'company': 'entreprise',
    'computer': 'ordinateur',
    'condition': 'condition',
    'conference': 'conf√©rence',
    'country': 'pays',
    'course': 'cours',
    'court': 'tribunal',
    'culture': 'culture',
    'customer': 'client',
    'data': 'donn√©es',
    'day': 'jour',
    'death': 'mort',
    'decision': 'd√©cision',
    'department': 'd√©partement',
    'detail': 'd√©tail',
    'difference': 'diff√©rence',
    'director': 'directeur',
    'doctor': 'm√©decin',
    'dog': 'chien',
    'door': 'porte',
    'dream': 'r√™ve',
    'drug': 'drogue',
    'ear': 'oreille',
    'earth': 'terre',
    'education': '√©ducation',
    'effect': 'effet',
    'effort': 'effort',
    'election': '√©lection',
    'employee': 'employ√©',
    'end': 'fin',
    'energy': '√©nergie',
    'environment': 'environnement',
    'error': 'erreur',
    'event': '√©v√©nement',
    'example': 'exemple',
    'experience': 'exp√©rience',
    'expert': 'expert',
    'eye': '≈ìil',
    'face': 'visage',
    'fact': 'fait',
    'family': 'famille',
    'father': 'p√®re',
    'fear': 'peur',
    'feeling': 'sentiment',
    'field': 'champ',
    'figure': 'figure',
    'file': 'fichier',
    'film': 'film',
    'fire': 'feu',
    'fish': 'poisson',
    'floor': 'sol',
    'food': 'nourriture',
    'foot': 'pied',
    'force': 'force',
    'form': 'forme',
    'friend': 'ami',
    'future': 'futur',
    'game': 'jeu',
    'garden': 'jardin',
    'girl': 'fille',
    'glass': 'verre',
    'goal': 'objectif',
    'god': 'dieu',
    'government': 'gouvernement',
    'ground': 'sol',
    'group': 'groupe',
    'growth': 'croissance',
    'hand': 'main',
    'head': 't√™te',
    'health': 'sant√©',
    'heart': 'c≈ìur',
    'help': 'aide',
    'history': 'histoire',
    'home': 'maison',
    'hope': 'espoir',
    'hospital': 'h√¥pital',
    'hotel': 'h√¥tel',
    'hour': 'heure',
    'house': 'maison',
    'human': 'humain',
    'husband': 'mari',
    'idea': 'id√©e',
    'image': 'image',
    'impact': 'impact',
    'industry': 'industrie',
    'information': 'information',
    'interest': 'int√©r√™t',
    'issue': 'probl√®me',
    'item': 'article',
    'job': 'travail',
    'kind': 'type',
    'knowledge': 'connaissance',
    'land': 'terre',
    'language': 'langue',
    'law': 'loi',
    'leader': 'leader',
    'level': 'niveau',
    'life': 'vie',
    'light': 'lumi√®re',
    'line': 'ligne',
    'list': 'liste',
    'love': 'amour',
    'machine': 'machine',
    'man': 'homme',
    'manager': 'gestionnaire',
    'market': 'march√©',
    'material': 'mat√©riel',
    'matter': 'mati√®re',
    'meaning': 'signification',
    'measure': 'mesure',
    'media': 'm√©dias',
    'medical': 'm√©dical',
    'member': 'membre',
    'memory': 'm√©moire',
    'message': 'message',
    'method': 'm√©thode',
    'middle': 'milieu',
    'mind': 'esprit',
    'minute': 'minute',
    'model': 'mod√®le',
    'moment': 'moment',
    'money': 'argent',
    'month': 'mois',
    'morning': 'matin',
    'mother': 'm√®re',
    'movement': 'mouvement',
    'movie': 'film',
    'music': 'musique',
    'name': 'nom',
    'nation': 'nation',
    'nature': 'nature',
    'network': 'r√©seau',
    'news': 'nouvelles',
    'night': 'nuit',
    'number': 'num√©ro',
    'object': 'objet',
    'office': 'bureau',
    'officer': 'officier',
    'operation': 'op√©ration',
    'opportunity': 'opportunit√©',
    'option': 'option',
    'order': 'ordre',
    'organization': 'organisation',
    'other': 'autre',
    'page': 'page',
    'pain': 'douleur',
    'paper': 'papier',
    'parent': 'parent',
    'part': 'partie',
    'party': 'f√™te',
    'pattern': 'mod√®le',
    'peace': 'paix',
    'people': 'gens',
    'period': 'p√©riode',
    'person': 'personne',
    'phone': 't√©l√©phone',
    'picture': 'image',
    'piece': 'morceau',
    'place': 'lieu',
    'plan': 'plan',
    'plant': 'plante',
    'player': 'joueur',
    'point': 'point',
    'police': 'police',
    'policy': 'politique',
    'politics': 'politique',
    'population': 'population',
    'position': 'position',
    'power': 'pouvoir',
    'practice': 'pratique',
    'president': 'pr√©sident',
    'pressure': 'pression',
    'price': 'prix',
    'problem': 'probl√®me',
    'process': 'processus',
    'product': 'produit',
    'production': 'production',
    'program': 'programme',
    'project': 'projet',
    'property': 'propri√©t√©',
    'public': 'public',
    'purpose': 'but',
    'quality': 'qualit√©',
    'question': 'question',
    'radio': 'radio',
    'rate': 'taux',
    'reality': 'r√©alit√©',
    'reason': 'raison',
    'record': 'enregistrement',
    'region': 'r√©gion',
    'relationship': 'relation',
    'report': 'rapport',
    'research': 'recherche',
    'resource': 'ressource',
    'response': 'r√©ponse',
    'responsibility': 'responsabilit√©',
    'result': 'r√©sultat',
    'right': 'droit',
    'risk': 'risque',
    'road': 'route',
    'role': 'r√¥le',
    'room': 'chambre',
    'rule': 'r√®gle',
    'school': '√©cole',
    'science': 'science',
    'score': 'score',
    'sea': 'mer',
    'season': 'saison',
    'seat': 'si√®ge',
    'second': 'seconde',
    'section': 'section',
    'security': 's√©curit√©',
    'sense': 'sens',
    'series': 's√©rie',
    'service': 'service',
    'session': 'session',
    'set': 'ensemble',
    'setting': 'param√®tre',
    'sex': 'sexe',
    'side': 'c√¥t√©',
    'sign': 'signe',
    'situation': 'situation',
    'size': 'taille',
    'skill': 'comp√©tence',
    'skin': 'peau',
    'society': 'soci√©t√©',
    'software': 'logiciel',
    'son': 'fils',
    'song': 'chanson',
    'sort': 'type',
    'sound': 'son',
    'source': 'source',
    'space': 'espace',
    'speech': 'discours',
    'sport': 'sport',
    'staff': 'personnel',
    'stage': '√©tape',
    'standard': 'norme',
    'star': '√©toile',
    'start': 'd√©but',
    'state': '√©tat',
    'statement': 'd√©claration',
    'station': 'station',
    'step': '√©tape',
    'story': 'histoire',
    'strategy': 'strat√©gie',
    'street': 'rue',
    'structure': 'structure',
    'student': '√©tudiant',
    'study': '√©tude',
    'style': 'style',
    'subject': 'sujet',
    'success': 'succ√®s',
    'summer': '√©t√©',
    'sun': 'soleil',
    'support': 'soutien',
    'system': 'syst√®me',
    'table': 'table',
    'task': 't√¢che',
    'tax': 'taxe',
    'teacher': 'professeur',
    'team': '√©quipe',
    'technology': 'technologie',
    'television': 't√©l√©vision',
    'term': 'terme',
    'test': 'test',
    'text': 'texte',
    'theory': 'th√©orie',
    'thing': 'chose',
    'thought': 'pens√©e',
    'time': 'temps',
    'today': 'aujourd\'hui',
    'top': 'haut',
    'total': 'total',
    'town': 'ville',
    'trade': 'commerce',
    'training': 'formation',
    'treatment': 'traitement',
    'tree': 'arbre',
    'trial': 'proc√®s',
    'trip': 'voyage',
    'trouble': 'probl√®me',
    'truth': 'v√©rit√©',
    'type': 'type',
    'unit': 'unit√©',
    'university': 'universit√©',
    'user': 'utilisateur',
    'value': 'valeur',
    'view': 'vue',
    'voice': 'voix',
    'war': 'guerre',
    'water': 'eau',
    'way': 'chemin',
    'week': 'semaine',
    'weight': 'poids',
    'wife': 'femme',
    'window': 'fen√™tre',
    'woman': 'femme',
    'word': 'mot',
    'work': 'travail',
    'worker': 'travailleur',
    'world': 'monde',
    'year': 'ann√©e',

    // Adjectifs courants
    'able': 'capable',
    'active': 'actif',
    'american': 'am√©ricain',
    'available': 'disponible',
    'bad': 'mauvais',
    'beautiful': 'beau',
    'best': 'meilleur',
    'better': 'mieux',
    'big': 'grand',
    'black': 'noir',
    'blue': 'bleu',
    'born': 'n√©',
    'brown': 'marron',
    'busy': 'occup√©',
    'clear': 'clair',
    'cold': 'froid',
    'common': 'commun',
    'cool': 'frais',
    'current': 'actuel',
    'dark': 'sombre',
    'dead': 'mort',
    'different': 'diff√©rent',
    'difficult': 'difficile',
    'early': 't√¥t',
    'easy': 'facile',
    'economic': '√©conomique',
    'empty': 'vide',
    'european': 'europ√©en',
    'fast': 'rapide',
    'federal': 'f√©d√©ral',
    'final': 'final',
    'fine': 'bien',
    'foreign': '√©tranger',
    'former': 'ancien',
    'free': 'libre',
    'french': 'fran√ßais',
    'fresh': 'frais',
    'full': 'plein',
    'general': 'g√©n√©ral',
    'german': 'allemand',
    'global': 'mondial',
    'good': 'bon',
    'great': 'super',
    'green': 'vert',
    'happy': 'heureux',
    'hard': 'dur',
    'heavy': 'lourd',
    'high': 'haut',
    'hot': 'chaud',
    'huge': '√©norme',
    'human': 'humain',
    'important': 'important',
    'international': 'international',
    'large': 'grand',
    'last': 'dernier',
    'late': 'tard',
    'left': 'gauche',
    'legal': 'l√©gal',
    'little': 'petit',
    'live': 'vivant',
    'local': 'local',
    'long': 'long',
    'low': 'bas',
    'major': 'majeur',
    'medical': 'm√©dical',
    'military': 'militaire',
    'modern': 'moderne',
    'national': 'national',
    'natural': 'naturel',
    'necessary': 'n√©cessaire',
    'new': 'nouveau',
    'nice': 'sympa',
    'old': 'vieux',
    'open': 'ouvert',
    'original': 'original',
    'other': 'autre',
    'personal': 'personnel',
    'physical': 'physique',
    'political': 'politique',
    'poor': 'pauvre',
    'popular': 'populaire',
    'possible': 'possible',
    'private': 'priv√©',
    'professional': 'professionnel',
    'public': 'public',
    'quick': 'rapide',
    'ready': 'pr√™t',
    'real': 'r√©el',
    'recent': 'r√©cent',
    'red': 'rouge',
    'religious': 'religieux',
    'responsible': 'responsable',
    'rich': 'riche',
    'right': 'correct',
    'safe': 's√ªr',
    'same': 'm√™me',
    'scientific': 'scientifique',
    'serious': 's√©rieux',
    'short': 'court',
    'simple': 'simple',
    'single': 'seul',
    'small': 'petit',
    'social': 'social',
    'special': 'sp√©cial',
    'strong': 'fort',
    'successful': 'r√©ussi',
    'sure': 's√ªr',
    'technical': 'technique',
    'true': 'vrai',
    'various': 'divers',
    'white': 'blanc',
    'whole': 'entier',
    'wide': 'large',
    'wrong': 'faux',
    'young': 'jeune'
};

// Fonction pour corriger en lot
function correctWordsInBatch(translations) {
    let corrected = 0;

    for (const [word, translation] of Object.entries(translations)) {
        try {
            const stmt = db.db.prepare(`
                UPDATE words 
                SET translation = ?, 
                    updated_at = CURRENT_TIMESTAMP
                WHERE word = ? AND translation = ?
            `);

            const result = stmt.run(translation, word, `[${word}]`);

            if (result.changes > 0) {
                console.log(`‚úÖ ${word} -> ${translation}`);
                corrected++;
            }
        } catch (error) {
            console.error(`‚ùå Erreur pour "${word}":`, error.message);
        }
    }

    return corrected;
}

// Appliquer les corrections
console.log('üîÑ Application des traductions √©tendues...');
const corrected = correctWordsInBatch(extendedTranslations);

// Statistiques finales
const remainingIncorrect = db.db.prepare(`
    SELECT COUNT(*) as count 
    FROM words 
    WHERE translation LIKE '[%]'
`).get();

console.log(`\nüìä R√©sum√© final:`);
console.log(`   ‚úÖ Mots corrig√©s dans cette session: ${corrected}`);
console.log(`   ‚ö†Ô∏è  Mots avec traductions incorrectes restants: ${remainingIncorrect.count}`);
console.log(`   üìö Total de mots dans la base: ${db.getTotalWordsCount()}`);

if (corrected > 0) {
    console.log(`\nüéâ L'application devrait maintenant afficher les traductions correctes !`);
}

// Fermer la base
db.db.close();
